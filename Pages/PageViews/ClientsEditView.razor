@page "/clients/{ClientId}"

@if (client != null)
{
    <div class="container">
        <label>Name: </label>
        <input type="text" @bind="@client.name" /><br />

        <label>Address: </label>
        <input type="text" @bind="@client.address" /><br />

        <label>Email: </label>
        <input type="text" @bind="@client.email" /><br />

        <label>Mobile: </label>
        <input type="text" @bind="@client.telefon" /><br />

        <label>Barcode: </label>
        <input type="text" @bind="@client.barCode" /><br />

        <label>Inserted Date: </label>
        <input type="text" @bind="@client.insertedDate" /><br />

        <label>Personal Identity: </label>
        <input type="text" @bind="@client.personalIdentity" /><br />

        <label>Photo: </label>
        <input type="text" @bind="@client.photo" /><br />

        <button class="btn btn-primary" @onclick="EditClient">Edit</button><br />

        @if (isUpdated)
        {
            <h4>Client has been updated.</h4>
            isUpdated = false;
        }
    </div>
}

    @code {
        [Parameter]
        public string ClientId { get; set; }
        public FireBase firebase { get; set; }
        Client client { get; set; }
        bool isUpdated = false;

        protected override async Task OnInitializedAsync()
        {
            firebase = new FireBase();
            client = await firebase.GetClientById(ClientId);
        }

        private void EditClient()
        {

            firebase.UpdateClient(client);
            isUpdated = true;
        }
    }
